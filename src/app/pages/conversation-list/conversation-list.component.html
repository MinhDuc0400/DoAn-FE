<div class="row h-100">
  <div class="col-md-4 h-100">
    <nb-card class="list-conversation h-100">
      <nb-card-header>Conversations</nb-card-header>
      <nb-card-body>
        <nb-list>
          <nb-list-item
            *ngFor="let conversation of conversationList"
            class="item cursor-pointer"
            (click)="openConversation(conversation._id)"
          >
            <nb-user
              [name]="userService.getDisplayName(conversation.users[0].firstName, conversation.users[0].lastName)"
              [title]="conversation.title">
            </nb-user>
          </nb-list-item>
        </nb-list>
      </nb-card-body>
    </nb-card>
  </div>
  <div class="chat-container col-md-8 h-100">
    <nb-chat title="Duc Nguyen" status="basic">
      <nb-chat-message *ngFor="let msg of messages"
                       [type]="msg.file ? 'file' : 'text'"
                       [message]="msg.message"
                       [reply]="msg.userId === userService.currentUser.getValue()._id"
                       [sender]="userService.getDisplayName(msg.user.firstName, msg.user.lastName)"
                       [files]="msg.file">
      </nb-chat-message>
      <nb-chat-form (send)="sendMessage($event)" [dropFiles]="true">
      </nb-chat-form>
    </nb-chat>
  </div>
</div>
